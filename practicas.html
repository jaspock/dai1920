

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9. Enunciados de las prácticas &mdash; documentación de Desarrollo de Aplicaciones en Internet - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/estilos.css" type="text/css" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="prev" title="8. Otros elementos del desarrollo web" href="otros.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Desarrollo de Aplicaciones en Internet
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contenidos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="marcado.html">1. Lenguajes de marcado</a></li>
<li class="toctree-l1"><a class="reference internal" href="estilo.html">2. Lenguajes de estilo</a></li>
<li class="toctree-l1"><a class="reference internal" href="cliente.html">3. Programar el lado del cliente</a></li>
<li class="toctree-l1"><a class="reference internal" href="servicios.html">4. Servicios web</a></li>
<li class="toctree-l1"><a class="reference internal" href="componentes.html">5. Componentes web</a></li>
<li class="toctree-l1"><a class="reference internal" href="servidor.html">6. Programar el lado del servidor</a></li>
<li class="toctree-l1"><a class="reference internal" href="nube.html">7. Computación en la nube</a></li>
<li class="toctree-l1"><a class="reference internal" href="otros.html">8. Otros elementos del desarrollo web</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">9. Enunciados de las prácticas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#calendario">9.1. Calendario</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instrucciones-de-entrega-de-las-practicas">9.2. Instrucciones de entrega de las prácticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#una-pagina-web-con-html5">9.3. Una página web con HTML5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#marcado">9.3.1. Marcado</a></li>
<li class="toctree-l3"><a class="reference internal" href="#estilo">9.3.2. Estilo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recomendaciones-finales">9.3.3. Recomendaciones finales</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#una-aplicacion-web-local">9.4. Una aplicación web local</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#eliminacion-de-la-doble-vista">9.4.1. Eliminación de la doble vista</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adicion-del-formulario-para-insertar-un-nuevo-cuestionario">9.4.2. Adición del formulario para insertar un nuevo cuestionario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#estilo-del-formulario">9.4.3. Estilo del formulario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documento-html">9.4.4. Documento HTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adicion-de-iconos-para-borrar-cada-pregunta">9.4.5. Adición de iconos para borrar cada pregunta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#funciones-auxiliares-a-crear">9.4.6. Funciones auxiliares a crear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#borrado-de-preguntas">9.4.7. Borrado de preguntas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incorporacion-automatica-de-los-botones-de-borrado">9.4.8. Incorporación automática de los botones de borrado</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adicion-de-formularios-de-insercion-de-preguntas">9.4.9. Adición de formularios de inserción de preguntas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#insercion-de-nuevas-preguntas-en-un-cuestionario">9.4.10. Inserción de nuevas preguntas en un cuestionario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incorporacion-automatica-de-los-formularios-de-insercion-de-preguntas">9.4.11. Incorporación automática de los formularios de inserción de preguntas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creacion-de-nuevos-cuestionarios">9.4.12. Creación de nuevos cuestionarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="#captura-de-pantalla">9.4.13. Captura de pantalla</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entrega-de-la-practica">9.4.14. Entrega de la práctica</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Desarrollo de Aplicaciones en Internet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>9. Enunciados de las prácticas</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/practicas.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="enunciados-de-las-practicas">
<h1>9. Enunciados de las prácticas<a class="headerlink" href="#enunciados-de-las-practicas" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="calendario">
<h2>9.1. Calendario<a class="headerlink" href="#calendario" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este es el calendario de cada uno de los entregables de la asignatura. No se admitirán entregas fuera de plazo.</p>
<table class="colwidths-given tablita docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 60%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Entregable</p></th>
<th class="head"><p>Título</p></th>
<th class="head"><p>Fecha límite de entrega</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Práctica #1</p></td>
<td><p><a class="reference internal" href="#una-pagina-web-con-html5">Una página web con HTML5</a></p></td>
<td><p>7 octubre 2019</p></td>
</tr>
<tr class="row-odd"><td><p>Práctica #2</p></td>
<td><p><a class="reference internal" href="#una-aplicacion-web-local">Una aplicación web local</a></p></td>
<td><p>4 noviembre 2019 (extendido)</p></td>
</tr>
<tr class="row-even"><td><p>Práctica #3</p></td>
<td><p>Una aplicación con acceso a servicios web de terceros y con componentes web</p></td>
<td><p>25 noviembre 2019 aprox.</p></td>
</tr>
<tr class="row-odd"><td><p>Práctica #4</p></td>
<td><p>Una aplicación en la nube</p></td>
<td><p>23 diciembre 2019 aprox.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="instrucciones-de-entrega-de-las-practicas">
<h2>9.2. Instrucciones de entrega de las prácticas<a class="headerlink" href="#instrucciones-de-entrega-de-las-practicas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Realiza tu entrega en un único fichero comprimido a través del <a class="reference external" href="https://pracdlsi.dlsi.ua.es/index.cgi?id=val">servidor web del Departamento</a> antes de las 23.59 del día de la fecha límite. Recuerda que no se admitirán entregas fuera de plazo.</p>
</div>
<div class="section" id="una-pagina-web-con-html5">
<h2>9.3. Una página web con HTML5<a class="headerlink" href="#una-pagina-web-con-html5" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta práctica vas a crear un documento HTML5 en el que <em>todo</em> el formato recaiga en hojas de estilo CSS (por tanto, no es posible usar atributos como <code class="docutils literal notranslate"><span class="pre">style</span></code> para el formato). Tu documento se llamará <code class="docutils literal notranslate"><span class="pre">index.html</span></code> y tendrá dos vistas diferentes, <em>normal</em> (la vista por defecto) y <em>compacta</em>; el usuario podrá cambiar de vista en cualquier momento usando los enlaces a pie de página. El objetivo es que consigas un documento que se muestre exactamente como puedes ver en estas imágenes de la <a class="reference external" href="_static/img/p1-vista-normal.png">vista normal</a> y de la <a class="reference external" href="_static/img/p1-vista-compacta.png">vista compacta</a>. Tu documento usará tres hojas de estilo: una con todo el contenido común a ambas vistas y dos más correspondientes a cada una de las vistas. Para poder alternar entre ambas hojas de estilo, añade este código a la cabecera (<code class="docutils literal notranslate"><span class="pre">head</span></code>) de tu página:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
  <span class="kd">function</span> <span class="nx">changeCSS</span><span class="p">(</span><span class="nx">cssFile</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oldlink</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;estilo&quot;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">newlink</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">)</span>
    <span class="nx">newlink</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;rel&quot;</span><span class="p">,</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">);</span>
    <span class="nx">newlink</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;text/css&quot;</span><span class="p">);</span>
    <span class="nx">newlink</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;estilo&quot;</span><span class="p">);</span>
    <span class="nx">newlink</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="nx">cssFile</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">newlink</span><span class="p">,</span> <span class="nx">oldlink</span><span class="p">);</span>
  <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<p>Recuerda también añadir posteriormente este código en el pie de la página cuando lo crees:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">onclick=</span><span class="s">&quot;changeCSS(&#39;./css/normal.css&#39;);&quot;</span><span class="nt">&gt;</span>Vista normal<span class="nt">&lt;/a&gt;</span> |
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">onclick=</span><span class="s">&quot;changeCSS(&#39;./css/compact.css&#39;);&quot;</span><span class="nt">&gt;</span>Vista compacta<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>Añade, finalmente, un elemento como este a la cabecera de tu documento para que la vista normal sea la que se muestre por defecto:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">id=</span><span class="s">&quot;estilo&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;./css/normal.css&quot;</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>Es muy importante que cuando implementes tu solución te asegures de que respetas <strong>estrictamente</strong> estas instrucciones, incluidos los nombres de identificadores, nombres de fichero, etc.; respeta las mayúsculas y minúsculas, las tildes, la posición de cada elemento en el documento, etc.</p>
<div class="section" id="marcado">
<h3>9.3.1. Marcado<a class="headerlink" href="#marcado" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Comienza preparando el documento HTML, sin tener en cuenta, por ahora, los aspectos estilísticos. El documento HTML seguirá los principios del lenguaje estudiados en clase. En particular, tendrá:</p>
<ul class="simple">
<li><p>una cabecera (elemento <code class="docutils literal notranslate"><span class="pre">header</span></code>) que incluya el título (elemento <code class="docutils literal notranslate"><span class="pre">h1</span></code>), el párrafo descriptivo y el índice (el índice será un elemento de tipo <code class="docutils literal notranslate"><span class="pre">nav</span></code> que incluirá una lista no numerada, <code class="docutils literal notranslate"><span class="pre">ul</span></code>), los tres como descendientes inmediatos (hijos) del elemento <code class="docutils literal notranslate"><span class="pre">header</span></code>;</p></li>
<li><p>la cabecera irá seguida de un fragmento principal (encerrado en el elemento <code class="docutils literal notranslate"><span class="pre">main</span></code>) que incluirá ambos cuestionarios;</p></li>
<li><p>la página acabará con un pie de página (elemento <code class="docutils literal notranslate"><span class="pre">footer</span></code>) con tus datos y los enlaces para cambiar la vista; encierra tu nombre completo (nombre y apellidos, en este orden) en un <code class="docutils literal notranslate"><span class="pre">span</span></code> (hijo de <code class="docutils literal notranslate"><span class="pre">footer</span></code>) con identificador <code class="docutils literal notranslate"><span class="pre">nombre</span></code> y el DNI en otro elemento <code class="docutils literal notranslate"><span class="pre">span</span></code> (también hijo de <code class="docutils literal notranslate"><span class="pre">footer</span></code>) con identificador <code class="docutils literal notranslate"><span class="pre">dni</span></code>; utiliza el carácter <code class="docutils literal notranslate"><span class="pre">'|'</span></code> en el documento HTML para separar los diferentes contenidos del pie de página.</p></li>
</ul>
<p>Cada cuestionario estará incluido en su propia sección (mediante sendos elementos <code class="docutils literal notranslate"><span class="pre">section</span></code>, que han de incluir atributos <code class="docutils literal notranslate"><span class="pre">id</span></code>, con valores <code class="docutils literal notranslate"><span class="pre">paris</span></code>, sin tilde y todo en minúsculas, y <code class="docutils literal notranslate"><span class="pre">londres</span></code>, todo en minúsculas, que serán referenciados desde el índice) y tendrá un título de segundo nivel (un elemento <code class="docutils literal notranslate"><span class="pre">h2</span></code>, que será hijo de <code class="docutils literal notranslate"><span class="pre">section</span></code>) que incluirá una imagen (que no ha de coincidir necesariamente en tu solución con la de este enunciado, pero no ha de tener tamaño superior a 512x512 píxeles) seguida del texto del título tal como sigue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">section</span> <span class="o">...&gt;</span>
  <span class="o">&lt;</span><span class="n">h2</span> <span class="o">...&gt;</span>
    <span class="o">&lt;</span><span class="n">img</span> <span class="o">...&gt;</span>
    <span class="n">Cuestionario</span> <span class="n">sobre</span><span class="o">...</span>
  <span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>La forma de codificar cada pregunta será la siguiente:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;bloque&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;pregunta&quot;</span><span class="nt">&gt;</span>
  La ciudad de París se sitúa a ambos lados del río Sena.
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;respuesta&quot;</span> <span class="na">data-valor=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>El contador de pregunta se ha de inicializar para cada nuevo cuestionario. El atributo <code class="docutils literal notranslate"><span class="pre">data-valor</span></code> es un atributo personalizado de HTML que usaremos para almacenar la respuesta (true/false) a la pregunta. En general, no es posible añadir a un elemento atributos que no estén especificados en el estándar excepto si estos comienzan por el prefijo <code class="docutils literal notranslate"><span class="pre">data-</span></code>.</p>
<p>Tanto los números de pregunta como el texto usado en la página para indicar la respuesta correcta no pueden aparecer explícitamente en el documento HTML, sino que han de ser generados dinámicamente desde CSS.</p>
</div>
<div class="section" id="estilo">
<h3>9.3.2. Estilo<a class="headerlink" href="#estilo" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Una vez tengas el documento HTML finalizado, puedes pasar a diseñar las hojas de estilo. Para el contador de preguntas, añade un número secuencial a cada pregunta obtenido automáticamente mediante un uso adecuado de los <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Counters">contadores de CSS</a>. Para las respuestas usa los <a class="reference external" href="http://www.smashingmagazine.com/2011/07/13/learning-to-use-the-before-and-after-pseudo-elements-in-css/">pseudoelementos CSS</a> <code class="docutils literal notranslate"><span class="pre">::before</span></code> y <code class="docutils literal notranslate"><span class="pre">::after</span></code>.</p>
<p>Se describen a continuación las características comunes de ambas vistas:</p>
<ul class="simple">
<li><p>la página completa (elemento <code class="docutils literal notranslate"><span class="pre">body</span></code>) tiene fondo blanco, letra de color <code class="docutils literal notranslate"><span class="pre">#333333</span></code> y no tiene margen (esto es, el margen se ha de establecer explícitamente a cero);</p></li>
<li><p>la cabecera (elemento <code class="docutils literal notranslate"><span class="pre">header</span></code>) tiene un ancho máximo de 1080px y márgenes automáticos a derecha e izquierda; su ancho, además, es el 98% del de la página para que siempre haya un pequeño margen entre el contenido de la página y la ventana del navegador; el texto de la cabecera está centrado;</p></li>
<li><p>los encabezados de nivel 1 usan letra negrita de 36px;</p></li>
<li><p>los encabezados de nivel 2 usan letra negrita de 25px;</p></li>
<li><p>el índice no usa ningún adorno especial de lista; los enlaces del índice no aparecen subrayados; lo único que los identifica como enlaces es su color (<code class="docutils literal notranslate"><span class="pre">cornflowerblue</span></code>) y el hecho de que el cursor del ratón cambia al pasar sobre ellos;</p></li>
<li><p>el fragmento principal (elemento <code class="docutils literal notranslate"><span class="pre">main</span></code>) tiene un ancho máximo de 1080px y márgenes automáticos a derecha e izquierda; su ancho, además, es el 98% del de la página para que siempre haya un pequeño margen entre el contenido de la página y la ventana del navegador;</p></li>
<li><p>la sección correspondiente a cada cuestionario tiene un margen superior de 80px;</p></li>
<li><p>cada pregunta (selector <code class="docutils literal notranslate"><span class="pre">.pregunta</span></code>) tiene un margen superior e inferior de 1ex;</p></li>
<li><p>el texto en otro idioma (<em>arrondissement</em>) se marca con la clase <em>idioma</em> (usa un elemento <code class="docutils literal notranslate"><span class="pre">span</span></code> para rodear la palabra) y se muestra en itálica;</p></li>
<li><p>la imagen junto al título de cada cuestionario está alineada verticalmente con la parte superior de la línea (<code class="docutils literal notranslate"><span class="pre">text-top</span></code>) y se escala <em>mediante CSS</em> a un tamaño de 50x50 píxels; la separa del encabezado un margen de 10px por la derecha; la imagen tiene un borde de 1px sólido de color <code class="docutils literal notranslate"><span class="pre">lightgray</span></code>;</p></li>
<li><p>el pie de página (elemento <code class="docutils literal notranslate"><span class="pre">footer</span></code>) tiene una altura de 50px y un margen superior de 100px; el color de fondo es <code class="docutils literal notranslate"><span class="pre">steelblue</span></code> y su anchura abarca el 100% de la ventana del navegador; el texto de una sola línea incluido usa una letra de tamaño 80% de color <code class="docutils literal notranslate"><span class="pre">white</span></code>, excepto para los enlaces, que usan color <code class="docutils literal notranslate"><span class="pre">lightgray</span></code>; el texto, además, está centrado verticalmente, lo que puedes conseguir siguiendo la primera recomendación de <a class="reference external" href="http://stackoverflow.com/questions/9249359/is-it-possible-to-vertically-align-text-within-a-div/14850381#14850381">esta respuesta</a>; ten en cuenta, además, que si el tamaño de la ventana de tu navegador es superior al tamaño de la página (lo que puede suceder si abres la página sin haber añadido los diferentes cuestionarios), el pie de página no quedará pegado al borde inferior de la ventana; el comportamiento anterior es correcto y no has de cambiarlo.</p></li>
</ul>
<p>Las características particulares de la vista compacta son:</p>
<ul class="simple">
<li><p>usa el tipo de letra <a class="reference external" href="https://fonts.google.com/specimen/Ubuntu?selection.family=Ubuntu">Ubuntu</a> para todo el documento; para ver cómo usar en tus estilos un tipo de letra de Google Fonts, haz clic en <span class="guilabel">Select this font</span> en la página correspondiente al tipo de letra y después haz clic en la caja que aparece en la parte inferior de la ventana;</p></li>
<li><p>cada pregunta/respuesta (selector <code class="docutils literal notranslate"><span class="pre">.bloque</span></code>) tiene  un margen superior de 10px e inferior de 20px.</p></li>
</ul>
<p>Las características particulares de la vista normal son:</p>
<ul class="simple">
<li><p>usa el tipo de letra Droid Serif  para todo el documento; la web que <a class="reference external" href="https://fonts.google.com/specimen/Droid+Serif">describía</a> este tipo de letra ya no está en Google Fonts, pero puedes seguir usándola añadiendo lo siguiente a tu página:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&#39;https://fonts.googleapis.com/css?family=Droid+Serif&#39;</span> <span class="na">rel=</span><span class="s">&#39;stylesheet&#39;</span> <span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>y lo siguiente a tu hoja de estilo:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;Droid Serif&#39;</span><span class="o">,</span> <span class="nt">serif</span><span class="o">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>cada pregunta/respuesta (selector <code class="docutils literal notranslate"><span class="pre">.bloque</span></code>) tiene un fondo de color <code class="docutils literal notranslate"><span class="pre">whitesmoke</span></code>; su borde es sólido de 1px de ancho y color <code class="docutils literal notranslate"><span class="pre">lightgray</span></code>; el margen superior es de 10px y el inferior de 20px; el relleno (<em>padding</em>) es de 10px; la sombra de la caja se obtiene dando el siguiente valor a la propiedad CSS <code class="docutils literal notranslate"><span class="pre">box-shadow</span></code> (averigua para qué sirve cada parámetro):</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span class="nt">box-shadow</span><span class="o">:</span> <span class="nt">6px</span> <span class="nt">6px</span> <span class="nt">3px</span> <span class="nt">slategray</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="section" id="recomendaciones-finales">
<h3>9.3.3. Recomendaciones finales<a class="headerlink" href="#recomendaciones-finales" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Asegúrate de que tus ficheros se validan correctamente con los validadores HTML5 y CSS del W3C (usando la pestaña <span class="guilabel">Validate by File Upload</span> en ambos casos). Además, usa Chrome DevTools para comprobar que el estilo aplicado en cada punto del documento es correcto. Finalmente, asegúrate de que cumple con todas las especificaciones de este enunciado (por ejemplo, los nombres o valores de atributos, elementos o ficheros).</p>
<p>Recuerda poner tu nombre completo y DNI en el pie del documento. Realiza tu entrega en un único fichero comprimido llamado <code class="docutils literal notranslate"><span class="pre">p1-dai.zip</span></code> a través del <a class="reference external" href="https://pracdlsi.dlsi.ua.es/index.cgi?id=val">servidor web del Departamento</a>. El archivo comprimido contendrá directamente (sin ninguna carpeta contenedora) el fichero <code class="docutils literal notranslate"><span class="pre">index.html</span></code>, una carpeta <code class="docutils literal notranslate"><span class="pre">css</span></code> con los ficheros con las hojas de estilo que hayas usado y una carpeta <code class="docutils literal notranslate"><span class="pre">img</span></code> con las imágenes.</p>
<p>Por último, coloca en algún punto del pie de la página un fragmento de HTML como <code class="docutils literal notranslate"><span class="pre">&lt;span</span> <span class="pre">id=&quot;tiempo&quot;&gt;[5</span> <span class="pre">horas]&lt;/span&gt;</span></code> donde has de sustiuir el 5 por el número de horas aproximadas que te haya llevado hacer esta prática.</p>
</div>
</div>
<div class="section" id="una-aplicacion-web-local">
<h2>9.4. Una aplicación web local<a class="headerlink" href="#una-aplicacion-web-local" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta práctica extenderás la práctica anterior con la incorporación de elementos dinámicos mediante JavaScript. En particular, será posible añadir y eliminar cuestionarios, así como añadir y eliminar sus preguntas; todo ello en el navegador, sin interaccionar con ningún servidor o base de datos. Para ello, la sección <code class="docutils literal notranslate"><span class="pre">main</span></code> del documento tendrá al principio un formulario que permitirá añadir nuevos cuestionarios indicando su título y su imagen asociada; además, al principio de cada cuestionario (tras el título e inmediatamente antes de la primera pregunta, si la hubiera) se mostrará otro formulario que permitirá añadir una nueva pregunta y su respuesta (verdadero o falso) al final del cuestionario correspondiente. Se permitirá, además, borrar individualmente las preguntas de los cuestionarios.</p>
<p>Asegúrate de que sigues los siguientes pasos en el orden en que aparecen en estas instrucciones para que la realización de la práctica sea más sencilla. Repasa, además, todo lo estudiado en clase sobre JavaScript antes de comenzar la implementación. No puedes utilizar ninguna librería externa (por ejemplo, la clásica <em>jQuery</em>) en tu solución. Al igual que en la práctica anterior, tu documento ha de ser válido en cada momento.</p>
<div class="section" id="eliminacion-de-la-doble-vista">
<h3>9.4.1. Eliminación de la doble vista<a class="headerlink" href="#eliminacion-de-la-doble-vista" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Elimina las dos vistas del documento de la práctica anterior y deja únicamente la vista <em>normal</em>. Para ello, borra todo el código JavaScript relacionado con el cambio de estilo, así como los dos enlaces que había en el pie de página para alternar entre los dos estilos. Fusiona todo el CSS que afectaba a la vista <em>normal</em> en un único documento CSS de nombre <code class="docutils literal notranslate"><span class="pre">normal.css</span></code>.</p>
</div>
<div class="section" id="adicion-del-formulario-para-insertar-un-nuevo-cuestionario">
<h3>9.4.2. Adición del formulario para insertar un nuevo cuestionario<a class="headerlink" href="#adicion-del-formulario-para-insertar-un-nuevo-cuestionario" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Añade el siguiente código al principio del bloque <code class="docutils literal notranslate"><span class="pre">main</span></code> de tu documento:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;formulario&quot;</span> <span class="na">id=</span><span class="s">&quot;nuevoCuestionario&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;label&gt;</span>Tema del cuestionario:<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;tema&quot;</span> <span class="na">autofocus</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;label&gt;</span>URL de la imagen:<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;url&quot;</span> <span class="na">name=</span><span class="s">&quot;imagen&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">name=</span><span class="s">&quot;crea&quot;</span> <span class="na">value=</span><span class="s">&quot;Crear nuevo cuestionario&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Este código define los elementos necesarios para el formulario de creación de un nuevo cuestionario. Cada campo a insertar se representa en el formulario con una etiqueta (elemento <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code>) y una entrada (elemento <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code>); ambos se incluyen como elementos dentro de una lista. El botón que se añade como último elemento de la lista ejecutará al ser pulsado el código JavaScript de creación del cuestionario. Es importante que respetes escrupulosamente el fragmento de código anterior, incluyendo los nombres de las clases e identificadores.</p>
<p>Date cuenta de que, en este caso, no usamos un elemento de tipo <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code>, sino un <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> para contener el formulario, con lo que no es necesario desactivar el envío de datos y la recarga automática de la página que ocurre con los formularios de tipo <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code>.</p>
</div>
<div class="section" id="estilo-del-formulario">
<h3>9.4.3. Estilo del formulario<a class="headerlink" href="#estilo-del-formulario" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Respeta las siguientes directrices a la de hora de dar estilo al formulario. Como más adelante usarás estos mismos estilos para el resto de formularios, basa tus selectores de CSS en la clase <code class="docutils literal notranslate"><span class="pre">.formulario</span></code> y no en el atributo <code class="docutils literal notranslate"><span class="pre">id</span></code> del formulario del apartado anterior:</p>
<ul class="simple">
<li><p>el elemento <code class="docutils literal notranslate"><span class="pre">&lt;ul&gt;</span></code> que contiene los distintos campos no usa ningún estilo de lista para sus elementos (de lo contrario, aparecería un topo o bala antes de cada elemento de la lista) y no tiene relleno (el <em>padding</em> es cero); además, su margen superior es de 30px, el inferior de 20px y el derecho e izquierdo son de 0px;</p></li>
<li><p>cada elemento de la lista (elemento <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code>) tiene un relleno (por los cuatro lados) de 12px y un borde inferior sólido de grosor 1px y color <code class="docutils literal notranslate"><span class="pre">#eee</span></code>;</p></li>
<li><p>además, el primer elemento de la lista tendrá un borde superior sólido de grosor 1px y color #777; el último elemento de la lista tendrá un borde inferior de idénticas características; identifica cuál de las <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started/Selectors">pseudoclases de CSS</a> te puede ser útil para esto;</p></li>
<li><p>el contenido de los elementos <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> se ha de mostrar con el valor <code class="docutils literal notranslate"><span class="pre">inline-block</span></code> para la propiedad <code class="docutils literal notranslate"><span class="pre">display</span></code> (que trata el contenido del elemento como una combinación de <code class="docutils literal notranslate"><span class="pre">inline</span></code> y <code class="docutils literal notranslate"><span class="pre">block</span></code>) lo que nos permitirá darle un ancho fijo de 15em y conseguir que las cajas de introducción de texto queden bien alineadas unas respecto a otras;</p></li>
<li><p>aquellos elementos de tipo <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> del formulario que tengan su atributo <code class="docutils literal notranslate"><span class="pre">type</span></code> con valor <code class="docutils literal notranslate"><span class="pre">text</span></code> o <code class="docutils literal notranslate"><span class="pre">url</span></code> (el botón, por tanto, queda excluido) tendrá un borde sólido de 1px de grosor y color <code class="docutils literal notranslate"><span class="pre">#aaa</span></code>; añádeles, además, estos atributos para conseguir una mayor definición de la caja:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span class="nt">box-shadow</span><span class="o">:</span> <span class="nt">0px</span> <span class="nt">0px</span> <span class="nt">3px</span> <span class="nf">#ccc</span><span class="o">,</span> <span class="nt">0</span> <span class="nt">5px</span> <span class="nt">8px</span> <span class="nf">#eee</span> <span class="nt">inset</span><span class="o">;</span>
<span class="nt">border-radius</span><span class="nd">:2px</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="section" id="documento-html">
<h3>9.4.4. Documento HTML<a class="headerlink" href="#documento-html" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las únicas diferencias en el documento HTML respecto a la práctica anterior es la supresión de todo lo relacionado con el uso de las dos hojas de estilo, la incorporación del formulario de creación de cuestionarios y, evidentemente, la inserción de un elemento <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> para cargar desde un fichero externo (atributo <code class="docutils literal notranslate"><span class="pre">src</span></code> de <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code>) el código JavaScript que escribas. Ten en cuenta que tu documento HTML no puede contener ningún código en CSS ni en JavaScript.</p>
</div>
<div class="section" id="adicion-de-iconos-para-borrar-cada-pregunta">
<h3>9.4.5. Adición de iconos para borrar cada pregunta<a class="headerlink" href="#adicion-de-iconos-para-borrar-cada-pregunta" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En primer lugar, vamos a añadir a las (cinco) cajas existentes para bloques de pregunta un icono que permita eliminar el bloque completo (número, enunciado y respuesta) de la página. Crea para ello una función <code class="docutils literal notranslate"><span class="pre">addCruz</span></code> que reciba como parámetro un objeto de tipo nodo que apunte a un elemento de clase <code class="docutils literal notranslate"><span class="pre">.bloque</span></code>. La función creará un nodo que contega un elemento como el siguiente</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;borra&quot;</span><span class="nt">&gt;</span>☒<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>y lo insertará como primer hijo del nodo <code class="docutils literal notranslate"><span class="pre">.bloque</span></code> pasado como parámetro. El contenido corresponde al carácter Unicode <a class="reference external" href="http://unicode-table.com/en/2612/">2612</a>.</p>
<p>El estilo de los elementos de clase <code class="docutils literal notranslate"><span class="pre">.borra</span></code> usará posicionamiento absoluto para situarse a 2px del extremo derecho y 1px del extremo superior de la caja del elemento <code class="docutils literal notranslate"><span class="pre">.bloque</span></code> que lo contiene. <em>Nota:</em> para que este posicionamiento funcione tendrás que <em>posicionar</em> el elemento <code class="docutils literal notranslate"><span class="pre">.bloque</span></code>. Además, el cursor del ratón al pasar por encima de la cruz de borrado adoptará el estilo <code class="docutils literal notranslate"><span class="pre">pointer</span></code>.</p>
<p>Por último, añade un manejador de evento al nuevo nodo de manera que se invoque a una función <code class="docutils literal notranslate"><span class="pre">borraPregunta</span></code> (definida más adelante) cuando se haga clic en el elemento.</p>
<p>Recuerda que puedes evaluar la corrección de tu función desde la consola de JavaScript del navegador.</p>
</div>
<div class="section" id="funciones-auxiliares-a-crear">
<h3>9.4.6. Funciones auxiliares a crear<a class="headerlink" href="#funciones-auxiliares-a-crear" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Durante la implementación de la práctica te serán de utilidad algunas funciones que puedes definir y evaluar ahora:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">insertAsLastChild(padre,nuevoHijo)</span></code>: inserta el nodo <code class="docutils literal notranslate"><span class="pre">nuevoHijo</span></code> como último hijo del nodo <code class="docutils literal notranslate"><span class="pre">padre</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insertAsFirstChild(padre,nuevoHijo)</span></code>: inserta el nodo <code class="docutils literal notranslate"><span class="pre">nuevoHijo</span></code> como primer hijo del nodo <code class="docutils literal notranslate"><span class="pre">padre</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insertBeforeChild(padre,hijo,nuevoHijo)</span></code>: inserta el nodo <code class="docutils literal notranslate"><span class="pre">nuevoHijo</span></code> como hijo del nodo <code class="docutils literal notranslate"><span class="pre">padre</span></code> inmediatamente antes del nodo <code class="docutils literal notranslate"><span class="pre">hijo</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeElement(nodo)</span></code>: elimina del DOM el nodo pasado como parámetro.</p></li>
</ul>
<p>Además, te será de suma utilidad disponer de una función que funcione de forma similar a <code class="docutils literal notranslate"><span class="pre">querySelector</span></code> pero buscando el primer ancestro (en lugar de descendiente) que concuerde con el selector:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queryAncestorSelector(node,selector)</span></code>: devuelve el ancestro más cercano a <code class="docutils literal notranslate"><span class="pre">node</span></code> que case con el selector indicado como segundo parámetro o <code class="docutils literal notranslate"><span class="pre">null</span></code> si no existe ninguno; <code class="docutils literal notranslate"><span class="pre">node</span></code> ha de ser un nodo inferior en el árbol a <code class="docutils literal notranslate"><span class="pre">document.body</span></code>.</p></li>
</ul>
<p>La siguiente es una posible implementación de la función que puedes copiar en tu práctica después de asegurarte de que la entiendes perfectamente:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">queryAncestorSelector</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">parent</span><span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">all</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">found</span><span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">parent</span> <span class="o">!==</span> <span class="nb">document</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">found</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">all</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">found</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">found</span><span class="o">=</span> <span class="p">(</span><span class="nx">all</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">parent</span><span class="p">)</span><span class="o">?</span><span class="kc">true</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">parent</span><span class="o">=</span> <span class="p">(</span><span class="o">!</span><span class="nx">found</span><span class="p">)</span><span class="o">?</span><span class="nx">parent</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">:</span><span class="nx">parent</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">found</span><span class="p">)</span><span class="o">?</span><span class="nx">parent</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Versiones recientes de los navegadores permiten usar la función <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/closest">closest</a> que tiene un comportamiento similar a <code class="docutils literal notranslate"><span class="pre">queryAncestorSelector</span></code>, pero no es necesario que la uses en tu práctica.</p>
</div>
<p>Esta función la usaras cuando desde un nodo determinado del DOM quieras acceder a un ancestro para el que conoces un selector, pero no conoces la <em>distancia</em> exacta a la que se encuentra o no te interesa hacer que tu código dependa en exceso de dicha distancia porque en el futuro podría haber más nodos intermedios en el árbol y no quieres tener que modificar el código de JavaScript si esto ocurre. Por ejemplo, considera este fragmento de HTML:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;a&gt;</span>
  <span class="nt">&lt;b&gt;</span>
    ...
    <span class="nt">&lt;c&gt;</span>
      <span class="nt">&lt;d&gt;</span>
      <span class="nt">&lt;/d&gt;</span>
    <span class="nt">&lt;/c&gt;</span>
    ...
    <span class="nt">&lt;e&gt;</span>
    <span class="nt">&lt;/e&gt;</span>
    ...
    <span class="nt">&lt;f&gt;</span>
    <span class="nt">&lt;/f&gt;</span>
  <span class="nt">&lt;/b&gt;</span>
<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>Si <code class="docutils literal notranslate"><span class="pre">x</span></code> representa el nodo correspondiente al elemento <code class="docutils literal notranslate"><span class="pre">d</span></code> y quieres acceder a información del nodo <code class="docutils literal notranslate"><span class="pre">a</span></code>, podría hacerse algo como:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span class="nx">x</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span>
</pre></div>
</div>
<p>o, con ayuda de la nueva funcion, simplemente</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span class="nx">queryAncestorSelector</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Otro ejemplo: para acceder al elemento <code class="docutils literal notranslate"><span class="pre">f</span></code> desde <code class="docutils literal notranslate"><span class="pre">x</span></code>, se puede hacer:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span class="nx">queryAncestorSelector</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">).</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="borrado-de-preguntas">
<h3>9.4.7. Borrado de preguntas<a class="headerlink" href="#borrado-de-preguntas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Escribe ahora el código para <code class="docutils literal notranslate"><span class="pre">borraPregunta</span></code>, el manejador del evento discutido en más arriba. Esta función usará el objeto de tipo evento recibido como parámetro para acceder al elemento sobre el que se ha hecho clic. A partir de este elemento, usando <code class="docutils literal notranslate"><span class="pre">queryAncestorSelector</span></code>, accederá al ancestro con selector <code class="docutils literal notranslate"><span class="pre">.bloque</span></code> y lo eliminará del documento, es decir, eliminará el nodo correspondiente del DOM. Además, cuando el cuestionario se quede sin ninguna pregunta, este se eliminará por completo del DOM, así como su entrada en el índice al principio de la página.</p>
</div>
<div class="section" id="incorporacion-automatica-de-los-botones-de-borrado">
<h3>9.4.8. Incorporación automática de los botones de borrado<a class="headerlink" href="#incorporacion-automatica-de-los-botones-de-borrado" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Crea una función <code class="docutils literal notranslate"><span class="pre">init</span></code>, que sea invocada por el manejador del evento <code class="docutils literal notranslate"><span class="pre">load</span></code> y que recorra todos los elementos de clase <code class="docutils literal notranslate"><span class="pre">.bloque</span></code> e invoque la función <code class="docutils literal notranslate"><span class="pre">addCruz</span></code> (definida anteriormente) sobre cada uno de ellos. En estos momentos, al abrir tu documento, cada pregunta debería tener su icono de borrado y debería ser posible dejar el documento sin cuestionarios tras borrar todos los bloques de preguntas.</p>
</div>
<div class="section" id="adicion-de-formularios-de-insercion-de-preguntas">
<h3>9.4.9. Adición de formularios de inserción de preguntas<a class="headerlink" href="#adicion-de-formularios-de-insercion-de-preguntas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>A diferencia del formulario de creación de cuestionarios, el formulario de adición de una nueva pregunta se crea dinámicamente para cada cuestionario. Crea ahora una función <code class="docutils literal notranslate"><span class="pre">addFormPregunta</span></code> que se encargue de ello. Esta función recibe como parámetro el nodo correspondiente al elemento <code class="docutils literal notranslate"><span class="pre">section</span></code> de un determinado cuestionario, crea dinámicamente un formulario como el siguiente y lo inserta a continuación del título del cuestionario (antes de la primera pregunta, si la hubiera):</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;formulario&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;label&gt;</span>Enunciado de la pregunta:<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;paris_pregunta&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;label&gt;</span>Respuesta:<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">name=</span><span class="s">&quot;paris_respuesta&quot;</span> <span class="na">value=</span><span class="s">&quot;verdadero&quot;</span> <span class="na">checked</span><span class="nt">&gt;</span>Verdadero
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">name=</span><span class="s">&quot;paris_respuesta&quot;</span> <span class="na">value=</span><span class="s">&quot;falso&quot;</span><span class="nt">&gt;</span>Falso
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">value=</span><span class="s">&quot;Añadir nueva pregunta&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Un comentario sobre los atributos <code class="docutils literal notranslate"><span class="pre">name</span></code> del formulario: dado que estos no pueden tener los mismos valores para los distintos formularios del documento (de otro modo, todos los botones de radio serían considerados como un único conjunto por el navegador y activar uno de ellos en un cuestionario desactivaría el resto de botones en los otros cuestionarios), en esta práctica has de añadir como prefijo el nombre del atributo <code class="docutils literal notranslate"><span class="pre">id</span></code> del elemento <code class="docutils literal notranslate"><span class="pre">section</span></code> correspondiente seguido de un carácter subrayado.</p>
<p>La función finalizará especificando la función <code class="docutils literal notranslate"><span class="pre">addPregunta</span></code> (analizada a continuación) como función manejadora del evento de clic sobre el botón.</p>
</div>
<div class="section" id="insercion-de-nuevas-preguntas-en-un-cuestionario">
<h3>9.4.10. Inserción de nuevas preguntas en un cuestionario<a class="headerlink" href="#insercion-de-nuevas-preguntas-en-un-cuestionario" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Al igual que la función <code class="docutils literal notranslate"><span class="pre">borraPregunta</span></code>, la función <code class="docutils literal notranslate"><span class="pre">addPregunta</span></code> utilizará también el objeto de tipo evento recibido como parámetro para acceder (con ayuda de funciones como <code class="docutils literal notranslate"><span class="pre">querySelectorAncestor</span></code> o <code class="docutils literal notranslate"><span class="pre">querySelector</span></code>) a los datos introducidos en el formulario correspondiente.</p>
<p>En primer lugar, la función comprobará que ninguno de los campos del formulario haya quedado sin rellenar; si alguno de los campos estuviera vacío, se mostrará un <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Window.alert">diálogo de alerta</a> con un texto descriptivo de la causa del error que puedes escoger libremente. En otro caso, se procederá a crear un nuevo elemento <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> de clase <code class="docutils literal notranslate"><span class="pre">.bloque</span></code> para la nueva pregunta, al que se añadirá el icono de borrado mediante una llamada a la función <code class="docutils literal notranslate"><span class="pre">addCruz</span></code>.</p>
<p>Finalmente, la función dejará en blanco el contenido de los campos del formulario, excepto el correspondiente a los botones de radio, que se quedará en el valor <em>verdadero</em>.</p>
</div>
<div class="section" id="incorporacion-automatica-de-los-formularios-de-insercion-de-preguntas">
<h3>9.4.11. Incorporación automática de los formularios de inserción de preguntas<a class="headerlink" href="#incorporacion-automatica-de-los-formularios-de-insercion-de-preguntas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Añade código a la función <code class="docutils literal notranslate"><span class="pre">init</span></code> que recorra todos los elementos de tipo <code class="docutils literal notranslate"><span class="pre">section</span></code> del documento inicial e inserte en ellos los formularios de adición de preguntas con la función definida anteriormente.</p>
</div>
<div class="section" id="creacion-de-nuevos-cuestionarios">
<h3>9.4.12. Creación de nuevos cuestionarios<a class="headerlink" href="#creacion-de-nuevos-cuestionarios" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Añade también a la función <code class="docutils literal notranslate"><span class="pre">init</span></code> código que asocie la función <code class="docutils literal notranslate"><span class="pre">addCuestionario</span></code> explicada a continuación como manejadora del evento de clic sobre el botón del formulario de creación de nuevo formulario.</p>
<p>La función <code class="docutils literal notranslate"><span class="pre">addCuestionario</span></code> utilizará el objeto de tipo evento recibido como parámetro para acceder (con ayuda de funciones como <code class="docutils literal notranslate"><span class="pre">querySelectorAncestor</span></code> o <code class="docutils literal notranslate"><span class="pre">querySelector</span></code>) a los datos introducidos en el formulario de creación de cuestionarios. La función comprobará que ninguno de los campos del formulario haya quedado sin rellenar; si alguno de los campos estuviera vacío, se mostrará un diálogo de alerta con un texto descriptivo de la causa del error que puedes escoger libremente. No has de comprobar, en cualquier caso, que la URL indicada sea válida ni corresponda a una imagen existente en internet. Si todos los campos del formulario se han rellenado, se procederá a crear un elemento de tipo <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> que acogerá un nuevo formulario y que se añadirá a continuación del último formulario de la página. El título del cuestionario será «Cuestionario sobre » seguido del valor del primer campo del formulario; la URL de la imagen a usar será la indicada en el segundo campo. Recuerda también que has de añadir una nueva entrada al índice de cuestionarios de la cabecera del documento.</p>
<p>Dado que cada sección ha de tener un atributo de tipo <code class="docutils literal notranslate"><span class="pre">id</span></code> (por ejemplo, para enlazarlo desde el índice), en tu implementación usa como valor del identificador el carácter «c» seguido del valor de una variable global que se inicializará a 1 y se incrementará tras la creación de cada cuestionario. Date cuenta de que los cuestionarios presentes inicialmente en la página web ya tienen sus propios valores de <code class="docutils literal notranslate"><span class="pre">id</span></code>, por lo que el primer cuestionario que se cree tendrá <code class="docutils literal notranslate"><span class="pre">c1</span></code> por <code class="docutils literal notranslate"><span class="pre">id</span></code>, el segundo <code class="docutils literal notranslate"><span class="pre">c2</span></code>, etc. El contador global nunca se decrementará, aunque se borre un cuestionario. Observa, también, que la única manera de borrar un cuestionario es mediante el borrado de la última de sus preguntas, por lo que no es posible en esta práctica borrar un cuestionario para el que no se ha introducido ninguna pregunta aún.</p>
<p>Tras la creación e inserción del nuevo elemento <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code>, se procederá a incorporarle el formulario de creación de preguntas mediante la oportuna llamada a <code class="docutils literal notranslate"><span class="pre">addFormPregunta</span></code>.</p>
<p>Además, la función <code class="docutils literal notranslate"><span class="pre">addCuestionario</span></code> dejará en blanco el contenido de los campos del formulario.</p>
</div>
<div class="section" id="captura-de-pantalla">
<h3>9.4.13. Captura de pantalla<a class="headerlink" href="#captura-de-pantalla" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Observa en <a class="reference external" href="_static/img/dai-p2-captura.png">esta imagen</a> como quedaría la página web una vez añadidos dos cuestionarios con sendas preguntas.</p>
</div>
<div class="section" id="entrega-de-la-practica">
<h3>9.4.14. Entrega de la práctica<a class="headerlink" href="#entrega-de-la-practica" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Asegúrate de que tanto tus ficheros iniciales como cualquier estado posterior del DOM se validan correctamente con los validadores HTML5 y CSS del W3C. Además, usa Chrome DevTools para comprobar que el estilo aplicado en cada punto del documento es correcto y para depurar tu código en JavaScript. Finalmente, asegúrate de que tu implementación cumple con todas las especificaciones de este enunciado.</p>
<p>Recuerda mantener tu nombre completo y DNI en el pie del documento. Realiza tu entrega en un único fichero comprimido llamado <code class="docutils literal notranslate"><span class="pre">p2-dai.zip</span></code> a través del servidor web del Departamento. El archivo comprimido contendrá directamente (sin ninguna carpeta contenedora) el fichero <code class="docutils literal notranslate"><span class="pre">index.html</span></code>, una carpeta <code class="docutils literal notranslate"><span class="pre">css</span></code> con el fichero <code class="docutils literal notranslate"><span class="pre">normal.css</span></code>, una carpeta <code class="docutils literal notranslate"><span class="pre">img</span></code> con las imágenes de Londres y París, y una carpeta <code class="docutils literal notranslate"><span class="pre">js</span></code> con el código en JavaScript.</p>
<p>Por último, coloca en algún punto del pie de la página un fragmento de HTML como <code class="docutils literal notranslate"><span class="pre">&lt;span</span> <span class="pre">id=&quot;tiempo&quot;&gt;[10</span> <span class="pre">horas]&lt;/span&gt;</span></code> donde has de sustiuir el 10 por el número de horas aproximadas que te haya llevado hacer esta prática.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="otros.html" class="btn btn-neutral float-left" title="8. Otros elementos del desarrollo web" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Juan Antonio Pérez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>